root: ./
out: ./
int_size: 4
use_go_int: false
package: clay

predef: |
  #define __STDC__ 1
  #define __STDC_VERSION__ 199901L
  
  #define CLAY_IMPLEMENTATION
  #define CLAY_DISABLE_SIMD

# TODO: figure out why Clay__RenderDebugLayoutElementsList causes a function doesn't return error
# delete debug pragma region
# comment out usages of Clay__RenderDebugView

files:
  - name: clay.h
    idents:
      - name: Clay_GetElementId
        rename: getElementId
      - name: Clay_GetElementIdWithIndex
        rename: getElementIdWithIndex
#      - name: Clay_ErrorHandler
#        fields:
#          - name: userData
#            type: iface
#      - name: Clay_ErrorData
#        fields:
#          - name: userData
#            type: iface
#      - name: Clay_Context
#        fields:
#          - name: measureTextUserData
#            type: iface
#          - name: queryScrollOffsetUserData
#            type: iface
#      - name: Clay_SetMeasureTextFunction
#        fields:
#          - name: userData
#            type: iface
#      - name: Clay_SetQueryScrollOffsetFunction
#        fields:
#          - name: userData
#            type: iface
    replace:
      - old: package clay
        new: |
          // Code generated by "go tool cxgo"; DO NOT EDIT.
          
          package clay
      - old: bool{}
        new: false
      - old: int32{}
        new: 0
      - old: int8{}
        new: 0
      - old: declaration.Scroll.Horizontal | declaration.Scroll.Vertical
        new: declaration.Scroll.Horizontal || declaration.Scroll.Vertical
      - old: Clay__
        new: __
      - old: CLAY__
        new: __
      - old: Clay_
        new:
      - old: CLAY_
        new:
      - old: uintptr(unsafe.Pointer(currentElement))-uintptr(unsafe.Pointer(context.LayoutElements.InternalArray))
        new: (uintptr(unsafe.Pointer(currentElement))-uintptr(unsafe.Pointer(context.LayoutElements.InternalArray)))/ unsafe.Sizeof(LayoutElement{})
      - old: uintptr(unsafe.Pointer(parentItem.LayoutElement))-uintptr(unsafe.Pointer(context.LayoutElements.InternalArray))
        new: (uintptr(unsafe.Pointer(parentItem.LayoutElement))-uintptr(unsafe.Pointer(context.LayoutElements.InternalArray))) / unsafe.Sizeof(LayoutElement{})
      # below are to fix self-assignment errors given by `go vet`
      - old: array.Length = array.Length
        new: /* (001) */
      - old: measuredHeight = measuredHeight
        new: /* (002) */
      - old: measuredWidth = measuredWidth
        new: /* (003) */
      - old: openLayoutElement.Dimensions.Height = openLayoutElement.Dimensions.Height
        new: /* (004) */
      - old: openLayoutElement.MinDimensions.Height = openLayoutElement.MinDimensions.Height
        new: /* (005) */
      - old: openLayoutElement.Dimensions.Width = openLayoutElement.Dimensions.Width
        new: /* (006) */
      - old: openLayoutElement.MinDimensions.Width = openLayoutElement.MinDimensions.Width
        new: /* (007) */
      - old: rootElement.Dimensions.Width = rootElement.Dimensions.Width
        new: /* (008) */
      - old: rootElement.Dimensions.Height = rootElement.Dimensions.Height
        new: /* (009) */
      - old: innerContentSize = innerContentSize
        new: /* (010) */
      - old: secondLargest = secondLargest
        new: /* (011) */
      - old: widthToAdd = widthToAdd
        new: /* (012) */
      - old: secondSmallest = secondSmallest
        new: /* (013) */
      - old: maxSize = maxSize
        new: /* (014) */
      - old: "*childSize = *childSize"
        new: /* (015) */
      - old: contentSize.Height = contentSize.Height
        new: /* (016) */
      - old: contentSize.Width = contentSize.Width
        new: /* (017) */
      - old: scrollData.ScrollPosition.X = scrollData.ScrollPosition.X
        new: /* (018) */
      - old: scrollData.ScrollPosition.Y = scrollData.ScrollPosition.Y
        new: /* (019) */
      - old: |
          highestPriorityScrollData.ScrollPosition.X = highestPriorityScrollData.ScrollPosition.X

        new: /* (020) */
      - old: |
          highestPriorityScrollData.ScrollPosition.Y = highestPriorityScrollData.ScrollPosition.Y

        new: /* (021) */